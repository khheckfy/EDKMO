@model EDKMO.Web.Models.HomeModel
@{
    ViewBag.Title = "Календарь МОФ";
}

@section dxscripts{


    <script type="text/javascript">
        var deleteIds = null;
        function OnDeleteSelectedAppointment(s, e) {
            var selectedApptIDs = scheduler.GetSelectedAppointmentIds();
            console.log(selectedApptIDs);
            if (selectedApptIDs.length > 0) {
                deleteIds = selectedApptIDs;
            }
        }

        function OnBeginCallback(s, e) {
            if (deleteIds != null) {
                e.customArgs["cmd"] = "DELETE";
                e.customArgs["deleteIds"] = JSON.stringify(deleteIds);
                deleteIds = null;
            }
        }

        function schedulerEndCallback(s, e) {
            $('[data-toggle="tooltip"]').tooltip();
        }

        function OnInplaceCloseButtonClick(s, e) {
            scheduler.InplaceEditFormCancel();
        }
        function OnSaveInplaceFormData(s, e) {
            if (IsValidAppointment())
                scheduler.InplaceEditFormSave();
        }
        function OnInplaceFormMoreButtonClick(s, e) {
            scheduler.InplaceEditFormShowMore();
        }
        function OnAppointmentFormSave(s, e) {
            if (IsValidAppointment())
                scheduler.AppointmentFormSave();
        }
        function OnAppointmentFormCancel(s, e) {
            scheduler.AppointmentFormCancel()
        }
        function OnAppointmentFormDelete(s, e) {
            scheduler.AppointmentFormDelete();
        }
        function IsValidAppointment() {
            $.validator.unobtrusive.parse(document);
            return $("form").valid();
        }
    </script>
}

@Html.Partial(Resources.GridPartialPath.Scheduller, Model.SchedulerObject)